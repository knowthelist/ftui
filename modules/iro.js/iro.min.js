function s(e,t){for(var r in t)e[r]=t[r];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,r){var n,o,i,l,a=arguments;if(t=s({},t),arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(a[n]);if(null!=r&&(t.children=r),null!=e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===t[o]&&(t[o]=e.defaultProps[o]);return l=t.key,null!=(i=t.ref)&&delete t.ref,null!=l&&delete t.key,v(e,t,l,i)}function v(e,t,r,o){var i={type:e,props:t,key:r,ref:o,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(i),i}function d(e){return e.children}function y(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return v(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=v(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function m(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__p?w(e.__p,e.__p.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?w(e):null}function g(e){var t,r;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return g(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var e,t,r,n,o,i,l,a;for(u.sort(function(e,t){return t.__v.__b-e.__v.__b});e=u.pop();)e.__d&&(r=void 0,n=void 0,i=(o=(t=e).__v).__e,l=t.__P,a=t.u,t.u=!1,l&&(r=[],n=$(l,o,s({},o),t.__n,void 0!==l.ownerSVGElement,null,r,a,null==i?w(o):i),j(r,o),n!=i&&g(o)))}function b(t,r,n,o,i,s,l,c,u){var h,p,d,g,_,v,y,b=n&&n.__k||e,m=b.length;if(c==f&&(c=null!=s?s[0]:m?w(n,0):null),h=0,r.__k=x(r.__k,function(e){if(null!=e){if(e.__p=r,e.__b=r.__b+1,null===(d=b[h])||d&&e.key==d.key&&e.type===d.type)b[h]=void 0;else for(p=0;p<m;p++){if((d=b[p])&&e.key==d.key&&e.type===d.type){b[p]=void 0;break}d=null}if(g=$(t,e,d=d||f,o,i,s,l,null,c,u),(p=e.ref)&&d.ref!=p&&(y||(y=[])).push(p,e.__c||g,e),null!=g){if(null==v&&(v=g),null!=e.l)g=e.l,e.l=null;else if(s==d||g!=c||null==g.parentNode){e:if(null==c||c.parentNode!==t)t.appendChild(g);else{for(_=c,p=0;(_=_.nextSibling)&&p<m;p+=2)if(_==g)break e;t.insertBefore(g,c)}"option"==r.type&&(t.value="")}c=g.nextSibling,"function"==typeof r.type&&(r.l=g)}}return h++,e}),r.__e=v,null!=s&&"function"!=typeof r.type)for(h=s.length;h--;)null!=s[h]&&a(s[h]);for(h=m;h--;)null!=b[h]&&D(b[h],b[h]);if(y)for(h=0;h<y.length;h++)A(y[h],y[++h],y[++h])}function x(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)x(e[n],t,r);else r.push(t?t(y(e)):e);return r}function C(e,t,r,n,o){var i;for(i in r)i in t||N(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"value"===i||"checked"===i||r[i]===t[i]||N(e,i,t[i],r[i],n)}function P(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===c.test(t)?r+"px":null==r?"":r}function N(e,t,r,n,o){var i,s,l,a,c;if("key"===(t=o?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof r)i.cssText=r;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(s in n)r&&s in r||P(i,s,"");if(r)for(l in r)n&&r[l]===n[l]||P(i,l,r[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),r?(n||e.addEventListener(t,T,a),(e.t||(e.t={}))[t]=r):e.removeEventListener(t,T,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&!o&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r?e.removeAttribute(t):e.setAttribute(t,r))}function T(e){return this.t[e.type](n.event?n.event(e):e)}function $(e,t,r,o,i,l,a,c,u,h){var p,f,g,_,v,y,E,I,S,A,C=t.type;if(void 0!==t.constructor)return null;(p=n.__b)&&p(t);try{e:if("function"==typeof C){if(I=t.props,S=(p=C.contextType)&&o[p.__c],A=p?S?S.props.value:p.__p:o,r.__c?E=(f=t.__c=r.__c).__p=f.__E:("prototype"in C&&C.prototype.render?t.__c=f=new C(I,A):(t.__c=f=new m(I,A),f.constructor=C,f.render=H),S&&S.sub(f),f.props=I,f.state||(f.state={}),f.context=A,f.__n=o,g=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=C.getDerivedStateFromProps&&s(f.__s==f.state?f.__s=s({},f.__s):f.__s,C.getDerivedStateFromProps(I,f.__s)),g)null==C.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&a.push(f);else{if(null==C.getDerivedStateFromProps&&null==c&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(I,A),!c&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(I,f.__s,A)){for(f.props=I,f.state=f.__s,f.__d=!1,f.__v=t,t.__e=null!=u?u!==r.__e?u:r.__e:null,t.__k=r.__k,p=0;p<t.__k.length;p++)t.__k[p]&&(t.__k[p].__p=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(I,f.__s,A)}for(_=f.props,v=f.state,f.context=A,f.props=I,f.state=f.__s,(p=n.__r)&&p(t),f.__d=!1,f.__v=t,f.__P=e,p=f.render(f.props,f.state,f.context),t.__k=x(null!=p&&p.type==d&&null==p.key?p.props.children:p),null!=f.getChildContext&&(o=s(s({},o),f.getChildContext())),g||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(_,v)),b(e,t,r,o,i,l,a,u,h),f.base=t.__e;p=f.__h.pop();)f.__s&&(f.state=f.__s),p.call(f);g||null==_||null==f.componentDidUpdate||f.componentDidUpdate(_,v,y),E&&(f.__E=f.__p=null)}else t.__e=z(r.__e,t,r,o,i,l,a,h);(p=n.diffed)&&p(t)}catch(e){n.__e(e,t,r)}return t.__e}function j(e,t){for(var r;r=e.pop();)try{r.componentDidMount()}catch(e){n.__e(e,r.__v)}n.__c&&n.__c(t)}function z(t,r,n,o,i,s,l,a){var c,u,h,p,d=n.props,g=r.props;if(i="svg"===r.type||i,null==t&&null!=s)for(c=0;c<s.length;c++)if(null!=(u=s[c])&&(null===r.type?3===u.nodeType:u.localName===r.type)){t=u,s[c]=null;break}if(null==t){if(null===r.type)return document.createTextNode(g);t=i?document.createElementNS("http://www.w3.org/2000/svg",r.type):document.createElement(r.type),s=null}return null===r.type?d!==g&&(null!=s&&(s[s.indexOf(t)]=null),t.data=g):r!==n&&(null!=s&&(s=e.slice.call(t.childNodes)),h=(d=n.props||f).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,a||(p||h)&&(p&&h&&p.__html==h.__html||(t.innerHTML=p&&p.__html||"")),C(t,g,d,i,a),r.__k=r.props.children,p||b(t,r,n,o,"foreignObject"!==r.type&&i,s,l,f,a),a||("value"in g&&void 0!==g.value&&g.value!==t.value&&(t.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==t.checked&&(t.checked=g.checked))),t}function A(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function D(e,t,r){var o,i,s;if(n.unmount&&n.unmount(e),(o=e.ref)&&A(o,null,t),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.l=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&D(o[s],t,r);null!=i&&a(i)}function H(e,t,r){return this.constructor(e,r)}function I(t,o,i){var s,l,a;n.__p&&n.__p(t,o),l=(s=i===r)?null:i&&i.__k||o.__k,t=h(d,null,[t]),a=[],$(o,s?o.__k=t:(i||o).__k=t,l||f,f,void 0!==o.ownerSVGElement,i&&!s?[i]:l?null:e.slice.call(o.childNodes),a,!1,i||f,s),j(a,t)}function clamp(e,t,r){return Math.min(Math.max(e,t),r)}function parseUnit(e,t){var r=e.indexOf("%")>-1,n=parseFloat(e);return r?t/100*n:n}function parseHexInt(e){return parseInt(e,16)}function intToHex(e){return e.toString(16).padStart(2,"0")}function getSliderDimensions(e){var t=e.width,r=e.sliderSize,n=e.borderWidth,o=e.handleRadius,i=e.padding,s=e.sliderShape,l="horizontal"===e.layoutDirection;return r=r||2*i+2*o+2*n,"circle"===s?{handleStart:e.padding+e.handleRadius,handleRange:t-2*i-2*o-2*n,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-n/2}:{handleStart:r/2,handleRange:t-r,radius:r/2,x:0,y:0,width:l?r:t,height:l?t:r}}function getCurrentSliderValue(e,t){var r=t.hsva,n=t.rgb;switch(e.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return 100*r.a;case"kelvin":var o=e.minTemperature,i=e.maxTemperature,s=i-o,l=(t.kelvin-o)/s*100;return Math.max(0,Math.min(l,100));case"hue":return r.h/=3.6;case"saturation":return r.s;case"value":default:return r.v}}function getSliderValueFromInput(e,t,r){var n,o=getSliderDimensions(e),i=o.handleRange,s=o.handleStart;n="horizontal"===e.layoutDirection?-1*r+i+s:t-s,n=Math.max(Math.min(n,i),0);var l=Math.round(100/i*n);switch(e.sliderType){case"kelvin":var a=e.minTemperature,c=e.maxTemperature,u=c-a;return a+u*(l/100);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}function getSliderHandlePosition(e,t){var r=getSliderDimensions(e),n=r.width,o=r.height,i=r.handleRange,s=r.handleStart,l="horizontal"===e.layoutDirection,a=getCurrentSliderValue(e,t),c=l?n/2:o/2,u=s+a/100*i;return l&&(u=-1*u+i+2*s),{x:l?c:u,y:l?u:c}}function getSliderGradient(e,t){var r=t.hsv,n=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var o=[],i=e.minTemperature,s=e.maxTemperature,l=8,a=s-i,c=i,u=0;c<s;c+=a/l,u+=1){var h=IroColor.kelvinToRgb(c),p=h.r,d=h.g,f=h.b;o.push([100/l*u,"rgb("+p+","+d+","+f+")"])}return o;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var g=IroColor.hsvToHsl({h:r.h,s:0,v:r.v}),_=IroColor.hsvToHsl({h:r.h,s:100,v:r.v});return[[0,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"],[100,"hsl("+_.h+","+_.s+"%,"+_.l+"%)"]];case"value":default:var v=IroColor.hsvToHsl({h:r.h,s:r.s,v:100});return[[0,"#000"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]]}}function getSliderGradientCoords(e){var t="horizontal"===e.layoutDirection;return{x1:"0%",y1:t?"100%":"0%",x2:t?"0%":"100%",y2:"0%"}}function getWheelDimensions(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function translateWheelAngle(e,t,r){var n=e.wheelAngle,o=e.wheelDirection;return t=!r&&"clockwise"===o||r&&"anticlockwise"===o?(r?180:360)-(n-t):n+t,(t%360+360)%360}function getWheelHandlePosition(e,t){var r=t.hsv,n=getWheelDimensions(e),o=n.cx,i=n.cy,s=e.width/2-e.padding-e.handleRadius-e.borderWidth,l=(180+translateWheelAngle(e,r.h,!0))*(Math.PI/180),a=r.s/100*s,c="clockwise"===e.wheelDirection?-1:1;return{x:o+a*Math.cos(l)*c,y:i+a*Math.sin(l)*c}}function getWheelValueFromInput(e,t,r){var n=getWheelDimensions(e),o=n.cx,i=n.cy,s=e.width/2-e.padding-e.handleRadius-e.borderWidth;t=o-t,r=i-r;var l=translateWheelAngle(e,Math.atan2(-r,-t)*(180/Math.PI)),a=Math.min(Math.sqrt(t*t+r*r),s);return{h:Math.round(l),s:Math.round(100/s*a)}}function getBoxDimensions(e){var t=e.width,r=e.padding,n=e.handleRadius;return{width:t,height:t,radius:r+n}}function getBoxValueFromInput(e,t,r){var n=getBoxDimensions(e),o=n.width,i=n.height,s=n.radius,l=s,a=o-2*s,c=i-2*s,u=(t-l)/a*100,h=(r-l)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-h,100))}}function getBoxHandlePosition(e,t){var r=getBoxDimensions(e),n=r.width,o=r.height,i=r.radius,s=t.hsv,l=i,a=n-2*i,c=o-2*i;return{x:l+s.s/100*a,y:l+(c-s.v/100*c)}}function getBoxGradients(e,t){var r=t.hue;return[[[0,"#fff"],[100,"hsl("+r+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function resolveSvgUrl(e){BASE_ELEMENTS||(BASE_ELEMENTS=document.getElementsByTagName("base"));var t=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(t),n=/iPhone|iPod|iPad/i.test(t),o=window.location;return(r||n)&&BASE_ELEMENTS.length>0?o.protocol+"//"+o.host+o.pathname+o.search+e:e}function getSvgArcPath(e,t,r,n,o){var i=o-n<=180?0:1;n*=Math.PI/180,o*=Math.PI/180;var s=e+r*Math.cos(o),l=t+r*Math.sin(o),a=e+r*Math.cos(n),c=t+r*Math.sin(n);return"M "+s+" "+l+" A "+r+" "+r+" 0 "+i+" 0 "+a+" "+c}function getHandleAtPoint(e,t,r,n){for(var o=0;o<n.length;o++){var i=n[o].x-t,s=n[o].y-r,l=Math.sqrt(i*i+s*s);if(l<e.handleRadius)return o}return null}function IroHandle(e){var t=e.r,r=e.url;return h("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),x:e.x,y:e.y,style:{overflow:"visible"}},r&&h("use",Object.assign({xlinkHref:resolveSvgUrl(r)},e.props)),!r&&h("circle",{r:t,fill:"none","stroke-width":2,stroke:"#000"}),!r&&h("circle",{r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function IroSlider(e){function t(t,r,o){var i=getSliderValueFromInput(e,t,r);e.parent.inputActive=!0,n[e.sliderType]=i,e.onInput(o)}var r=e.activeIndex,n=void 0!==r&&r<e.colors.length?e.colors[r]:e.color,o=getSliderDimensions(e),i=o.width,s=o.height,l=o.radius,a=getSliderHandlePosition(e,n),c=getSliderGradient(e,n),u="alpha"===e.sliderType;return h(IroComponentBase,Object.assign({},e,{onInput:t}),function(t,r,o){return h("svg",Object.assign({},r,{className:"IroSlider",width:i,height:s,style:o}),h("defs",null,h("linearGradient",Object.assign({id:"g"+t},getSliderGradientCoords(e)),c.map(function(e){var t=e[0],r=e[1];return h("stop",{offset:t+"%","stop-color":r})})),u&&h("pattern",{id:"b"+t,width:"8",height:"8",patternUnits:"userSpaceOnUse"},h("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),h("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),h("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),u&&h("pattern",{id:"f"+t,width:"100%",height:"100%"},h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#b"+t)+")"}),h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#g"+t)+")"}))),h("rect",{className:"IroSliderBg",rx:l,ry:l,x:e.borderWidth/2,y:e.borderWidth/2,width:i-e.borderWidth,height:s-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+resolveSvgUrl((u?"#f":"#g")+t)+")"}),h(IroHandle,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:a.x,y:a.y}))})}function IroBox(e){function t(t,r,n){if(0===n){var o=getHandleAtPoint(e,t,r,p);null!==o?l.setActiveColor(o):(l.inputActive=!0,c.hsv=getBoxValueFromInput(e,t,r),e.onInput(n))}else 1===n&&(l.inputActive=!0,c.hsv=getBoxValueFromInput(e,t,r));e.onInput(n)}var r=getBoxDimensions(e),n=r.width,o=r.height,i=r.radius,s=e.colors,l=e.parent,a=e.activeIndex,c=void 0!==a&&a<e.colors.length?e.colors[a]:e.color,u=getBoxGradients(e,c),p=s.map(function(t){return getBoxHandlePosition(e,t)});return h(IroComponentBase,Object.assign({},e,{onInput:t}),function(t,r,l){return h("svg",Object.assign({},r,{className:"IroBox",width:n,height:o,style:l}),h("defs",null,h("linearGradient",{id:"s"+t,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},u[0].map(function(e){var t=e[0],r=e[1];return h("stop",{offset:t+"%","stop-color":r})})),h("linearGradient",{id:"l"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},u[1].map(function(e){var t=e[0],r=e[1];return h("stop",{offset:t+"%","stop-color":r})})),h("pattern",{id:"f"+t,width:"100%",height:"100%"},h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#s"+t)+")"}),h("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+resolveSvgUrl("#l"+t)+")"}))),h("rect",{rx:i,ry:i,x:e.borderWidth/2,y:e.borderWidth/2,width:n-e.borderWidth,height:o-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+resolveSvgUrl("#f"+t)+")"}),s.filter(function(e){return e!==c}).map(function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:p[t.index].x,y:p[t.index].y})}),h(IroHandle,{isActive:!0,index:c.index,fill:c.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:p[c.index].x,y:p[c.index].y}))})}function IroWheel(e){function t(t,r,n){if(0===n){var o=getHandleAtPoint(e,t,r,d);null!==o?c.setActiveColor(o):(c.inputActive=!0,u.hsv=getWheelValueFromInput(e,t,r),e.onInput(n))}else 1===n&&(c.inputActive=!0,u.hsv=getWheelValueFromInput(e,t,r));e.onInput(n)}var r=getWheelDimensions(e),n=r.width,o=r.radius,i=r.cx,s=r.cy,l=e.colors,a=e.borderWidth,c=e.parent,u=e.color,p=u.hsv,d=l.map(function(t){return getWheelHandlePosition(e,t)});return h(IroComponentBase,Object.assign({},e,{onInput:t}),function(t,r,c){return h("svg",Object.assign({},r,{className:"IroWheel",width:n,height:n,style:c}),h("defs",null,h("radialGradient",{id:t},h("stop",{offset:"0%","stop-color":"#fff"}),h("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),h("g",{className:"IroWheelHue","stroke-width":o,fill:"none"},HUE_STEPS.map(function(t){return h("path",{key:t,d:getSvgArcPath(i,s,o/2,t,t+1.5),stroke:"hsl("+translateWheelAngle(e,t)+", 100%, 50%)"})})),h("circle",{className:"IroWheelSaturation",cx:i,cy:s,r:o,fill:"url("+resolveSvgUrl("#"+t)+")"}),e.wheelLightness&&h("circle",{className:"IroWheelLightness",cx:i,cy:s,r:o,fill:"#000",opacity:1-p.v/100}),h("circle",{className:"IroWheelBorder",cx:i,cy:s,r:o,fill:"none",stroke:e.borderColor,"stroke-width":a}),l.filter(function(e){return e!==u}).map(function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[t.index].x,y:d[t.index].y})}),h(IroHandle,{isActive:!0,index:u.index,fill:u.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[u.index].x,y:d[u.index].y}))})}function createWidget(e){var t=function(t,r){function n(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(o.base),o.onMount(e)}var o,i=document.createElement("div");return I(h(e,Object.assign({},{ref:function(e){return o=e}},r)),i),"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n),o};return t.prototype=e.prototype,Object.assign(t,e),t.__component=e,t}var n,u,t,i,r,o,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;n={},m.prototype.setState=function(e,t){var r=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));("function"!=typeof e||(e=e(r,this.props)))&&s(r,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),k(this))},m.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,k(this))},m.prototype.render=d,u=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(e,t,r){for(var n;t=t.__p;)if((n=t.__c)&&!n.__p)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return k(n.__E=n)}catch(t){e=t}throw e},r=f,o=0;var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH_3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH_4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",REGEX_FUNCTIONAL_RGB=new RegExp("rgb"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_RGBA=new RegExp("rgba"+PERMISSIVE_MATCH_4),REGEX_FUNCTIONAL_HSL=new RegExp("hsl"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_HSLA=new RegExp("hsla"+PERMISSIVE_MATCH_4),HEX_START="^(?:#?|0x?)",HEX_INT_SINGLE="([0-9a-fA-F]{1})",HEX_INT_DOUBLE="([0-9a-fA-F]{2})",REGEX_HEX_3=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_4=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_6=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),REGEX_HEX_8=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),KELVIN_MIN=1e3,KELVIN_MAX=4e4,log=Math.log,round=Math.round,floor=Math.floor,IroColor=function(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=Object.assign({},this.$)},prototypeAccessors={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};IroColor.prototype.set=function(e){if("string"==typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!=typeof e)throw new Error("Invalid color value");e instanceof IroColor?this.hsv=e.hsv:"object"==typeof e&&"r"in e&&"g"in e&&"b"in e?this.rgb=e:"object"==typeof e&&"h"in e&&"s"in e&&"v"in e?this.hsv=e:"object"==typeof e&&"h"in e&&"s"in e&&"l"in e&&(this.hsl=e)}},IroColor.prototype.setChannel=function(e,t,r){var n;this[e]=Object.assign({},this[e],(n={},n[t]=r,n))},IroColor.prototype.reset=function(){this.hsva=this.initialValue},IroColor.prototype.clone=function(){return new IroColor(this)},IroColor.prototype.unbind=function(){this.onChange=void 0},IroColor.hsvToRgb=function(e){var t=e.h/60,r=e.s/100,n=e.v/100,o=floor(t),i=t-o,s=n*(1-r),l=n*(1-i*r),a=n*(1-(1-i)*r),c=o%6,u=[n,l,s,s,a,n][c],h=[a,n,n,l,s,s][c],p=[s,s,a,n,n,l][c];return{r:clamp(255*u,0,255),g:clamp(255*h,0,255),b:clamp(255*p,0,255)}},IroColor.rgbToHsv=function(e){var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.max(t,r,n),i=Math.min(t,r,n),s=o-i,l=0,a=o,c=0===o?0:s/o;switch(o){case i:l=0;break;case t:l=(r-n)/s+(r<n?6:0);break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4}return{h:60*l%360,s:clamp(100*c,0,100),v:clamp(100*a,0,100)}},IroColor.hsvToHsl=function(e){var t=e.s/100,r=e.v/100,n=(2-t)*r,o=n<=1?n:2-n,i=o<1e-9?0:t*r/o;return{h:e.h,s:clamp(100*i,0,100),l:clamp(50*n,0,100)}},IroColor.hslToHsv=function(e){var t=2*e.l,r=e.s*(t<=100?t:200-t)/100,n=t+r<1e-9?0:2*r/(t+r);return{h:e.h,s:clamp(100*n,0,100),v:clamp((t+r)/2,0,100)}},IroColor.kelvinToRgb=function(e){var t,r,n,o=e/100;return o<66?(t=255,r=-155.25485562709179-.44596950469579133*(r=o-2)+104.49216199393888*log(r),n=o<20?0:.8274096064007395*(n=o-10)-254.76935184120902+115.67994401066147*log(n)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*log(t),r=325.4494125711974+.07943456536662342*(r=o-50)-28.0852963507957*log(r),n=255),{r:clamp(floor(t),0,255),g:clamp(floor(r),0,255),b:clamp(floor(n),0,255)}},IroColor.rgbToKelvin=function(e){for(var t,r=e.r,n=e.b,o=.4,i=KELVIN_MIN,s=KELVIN_MAX;s-i>o;){t=.5*(s+i);var l=IroColor.kelvinToRgb(t);l.b/l.r>=n/r?s=t:i=t}return t},prototypeAccessors.hsv.get=function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},prototypeAccessors.hsv.set=function(e){var t=this.$;if(e=Object.assign({},t,e),this.onChange){var r={h:!1,v:!1,s:!1,a:!1};for(var n in t)r[n]=e[n]!=t[n];this.$=e,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.$=e},prototypeAccessors.hsva.get=function(){return Object.assign({},this.$)},prototypeAccessors.hsva.set=function(e){this.hsv=e},prototypeAccessors.hue.get=function(){return this.$.h},prototypeAccessors.hue.set=function(e){this.hsv={h:e}},prototypeAccessors.saturation.get=function(){return this.$.s},prototypeAccessors.saturation.set=function(e){this.hsv={s:e}},prototypeAccessors.value.get=function(){return this.$.v},prototypeAccessors.value.set=function(e){this.hsv={v:e}},prototypeAccessors.alpha.get=function(){return this.$.a},prototypeAccessors.alpha.set=function(e){this.hsv=Object.assign({},this.hsv,{a:e})},prototypeAccessors.kelvin.get=function(){return IroColor.rgbToKelvin(this.rgb)},prototypeAccessors.kelvin.set=function(e){this.rgb=IroColor.kelvinToRgb(e)},prototypeAccessors.red.get=function(){var e=this.rgb;return e.r},prototypeAccessors.red.set=function(e){this.rgb=Object.assign({},this.rgb,{r:e})},prototypeAccessors.green.get=function(){var e=this.rgb;return e.g},prototypeAccessors.green.set=function(e){this.rgb=Object.assign({},this.rgb,{g:e})},prototypeAccessors.blue.get=function(){var e=this.rgb;return e.b},prototypeAccessors.blue.set=function(e){this.rgb=Object.assign({},this.rgb,{b:e})},prototypeAccessors.rgb.get=function(){var e=IroColor.hsvToRgb(this.$),t=e.r,r=e.g,n=e.b;return{r:round(t),g:round(r),b:round(n)}},prototypeAccessors.rgb.set=function(e){this.hsv=Object.assign({},IroColor.rgbToHsv(e),{a:void 0===e.a?1:e.a})},prototypeAccessors.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},prototypeAccessors.rgba.set=function(e){this.rgb=e},prototypeAccessors.hsl.get=function(){var e=IroColor.hsvToHsl(this.$),t=e.h,r=e.s,n=e.l;return{h:round(t),s:round(r),l:round(n)}},prototypeAccessors.hsl.set=function(e){this.hsv=Object.assign({},IroColor.hslToHsv(e),{a:void 0===e.a?1:e.a})},prototypeAccessors.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},prototypeAccessors.hsla.set=function(e){this.hsl=e},prototypeAccessors.rgbString.get=function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},prototypeAccessors.rgbString.set=function(e){var t,r,n,o,i=1;if((t=REGEX_FUNCTIONAL_RGB.exec(e))?(r=parseUnit(t[1],255),n=parseUnit(t[2],255),o=parseUnit(t[3],255)):(t=REGEX_FUNCTIONAL_RGBA.exec(e))&&(r=parseUnit(t[1],255),n=parseUnit(t[2],255),o=parseUnit(t[3],255),i=parseUnit(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:r,g:n,b:o,a:i}},prototypeAccessors.rgbaString.get=function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},prototypeAccessors.rgbaString.set=function(e){this.rgbString=e},prototypeAccessors.hexString.get=function(){var e=this.rgb;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)},prototypeAccessors.hexString.set=function(e){var t,r,n,o,i=255;if((t=REGEX_HEX_3.exec(e))?(r=17*parseHexInt(t[1]),n=17*parseHexInt(t[2]),o=17*parseHexInt(t[3])):(t=REGEX_HEX_4.exec(e))?(r=17*parseHexInt(t[1]),n=17*parseHexInt(t[2]),o=17*parseHexInt(t[3]),i=17*parseHexInt(t[4])):(t=REGEX_HEX_6.exec(e))?(r=parseHexInt(t[1]),n=parseHexInt(t[2]),o=parseHexInt(t[3])):(t=REGEX_HEX_8.exec(e))&&(r=parseHexInt(t[1]),n=parseHexInt(t[2]),o=parseHexInt(t[3]),i=parseHexInt(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:r,g:n,b:o,a:i/255}},prototypeAccessors.hex8String.get=function(){var e=this.rgba;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)+intToHex(floor(255*e.a))},prototypeAccessors.hex8String.set=function(e){this.hexString=e},prototypeAccessors.hslString.get=function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},prototypeAccessors.hslString.set=function(e){var t,r,n,o,i=1;if((t=REGEX_FUNCTIONAL_HSL.exec(e))?(r=parseUnit(t[1],360),n=parseUnit(t[2],100),o=parseUnit(t[3],100)):(t=REGEX_FUNCTIONAL_HSLA.exec(e))&&(r=parseUnit(t[1],360),n=parseUnit(t[2],100),o=parseUnit(t[3],100),i=parseUnit(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:r,s:n,l:o,a:i}},prototypeAccessors.hslaString.get=function(){var e=this.hsla;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},prototypeAccessors.hslaString.set=function(e){this.hslString=e},Object.defineProperties(IroColor.prototype,prototypeAccessors);var BASE_ELEMENTS,sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3},iroColorPickerOptionDefaults={width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",colors:[],borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},SECONDARY_EVENTS=["mousemove","touchmove","mouseup","touchend"],IroComponentBase=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),r={onMouseDown:t,ontouchstart:t},n="horizontal"===e.layoutDirection,o=null===e.margin?e.sliderMargin:e.margin,i={overflow:"visible",display:n?"inline-block":"block"};return e.index>0&&(i[n?"marginLeft":"marginTop"]=o),h(d,null,e.children(this.uid,r,i))},t.prototype.handleEvent=function(e){var t=this,r=this.props.onInput,n=this.base.getBoundingClientRect();e.preventDefault();var o=e.touches?e.changedTouches[0]:e,i=o.clientX-n.left,s=o.clientY-n.top;switch(e.type){case"mousedown":case"touchstart":SECONDARY_EVENTS.forEach(function(e){document.addEventListener(e,t,{passive:!1})}),r(i,s,0);break;case"mousemove":case"touchmove":r(i,s,1);break;case"mouseup":case"touchend":r(i,s,2),SECONDARY_EVENTS.forEach(function(e){document.removeEventListener(e,t)})}},t}(m);IroHandle.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},IroSlider.defaultProps=Object.assign({},sliderDefaultOptions);var HUE_STEPS=Array.apply(null,{length:360}).map(function(e,t){return t}),IroColorPicker=function(e){function t(t){var r=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id;var n=t.colors.length>0?t.colors:[t.color];n.forEach(function(e){return r.addColor(e)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var r=new IroColor(e,this.onColorChange.bind(this));this.colors.splice(t,0,r),this.colors.forEach(function(e,t){return e.index=t}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",r)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach(function(e,t){return e.index=t}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e){var t=this;this.colors.forEach(function(e){return e.unbind()}),this.colors=[],e.forEach(function(e){return t.addColor(e)}),this.setActiveColor(0),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var r=this,n=this.events;(Array.isArray(e)?e:[e]).forEach(function(e){(n[e]||(n[e]=[])).push(t),r.deferredEvents[e]&&(r.deferredEvents[e].forEach(function(e){t.apply(null,e)}),r.deferredEvents[e]=[])})},t.prototype.off=function(e,t){var r=this;(Array.isArray(e)?e:[e]).forEach(function(e){var n=r.events[e];n&&n.splice(n.indexOf(t),1)})},t.prototype.emit=function(e){for(var t=this,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var o=this.activeEvents,i=!!o.hasOwnProperty(e)&&o[e];if(!i){o[e]=!0;var s=this.events[e]||[];s.forEach(function(e){return e.apply(t,r)}),o[e]=!1}},t.prototype.deferredEmit=function(e){for(var t,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var o=this.deferredEvents;(t=this).emit.apply(t,[e].concat(r)),(o[e]||(o[e]=[])).push(r)},t.prototype.setOptions=function(e){this.setState(Object.assign({},this.state,e))},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach(function(e){return e.reset()}),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e){0===e?this.emit("input:start",this.color):1===e?this.emit("input:move",this.color):2===e&&this.emit("input:end",this.color)},t.prototype.render=function(e,t){var r=this,n=t.layout;return Array.isArray(n)||(n=[{component:IroWheel},{component:IroSlider}],t.transparency&&n.push({component:IroSlider,options:{sliderType:"alpha"}})),h("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}
},n.map(function(e,n){var o=e.component,i=e.options;return h(o,Object.assign({},t,i,{ref:void 0,onInput:r.emitInputEvent.bind(r),parent:r,index:n}))}))},t}(m);IroColorPicker.defaultProps=Object.assign({},iroColorPickerOptionDefaults,{colors:[],display:"block",id:null,layout:"default",margin:null});var iro,IroColorPickerWidget=createWidget(IroColorPicker);(function(e){e.version="5.2.3",e.Color=IroColor,e.ColorPicker=IroColorPickerWidget,function(e){e.h=h,e.ComponentBase=IroComponentBase,e.Handle=IroHandle,e.Slider=IroSlider,e.Wheel=IroWheel,e.Box=IroBox}(e.ui||(e.ui={}))})(iro||(iro={}));var iro$1=iro;export default iro$1;